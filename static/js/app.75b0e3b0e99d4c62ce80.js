webpackJsonp([1],{"4KGt":function(t,e){},"5c+W":function(t,e){},"607w":function(t,e){},"Cj+j":function(t,e){},JyvQ:function(t,e){},"Kc4/":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};a.d(n,"selectClassId",function(){return yt}),a.d(n,"selectKeyWord",function(){return St});var s={};a.d(s,"bookId",function(){return xt}),a.d(s,"classId",function(){return Lt}),a.d(s,"gender",function(){return Rt}),a.d(s,"end",function(){return $t}),a.d(s,"chargeType",function(){return At}),a.d(s,"page",function(){return Nt}),a.d(s,"keyword",function(){return Pt}),a.d(s,"chapId",function(){return Bt});var o=a("7+uW"),i=a("mtWM"),c=a.n(i),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"bottom-nav"},[e("router-link",{staticClass:"bottom-nav-btn",attrs:{tag:"li",to:"/bookshelf"}},[e("i",{staticClass:"icon-shujia icon"}),this._v("\n    书架\n  ")]),this._v(" "),e("router-link",{staticClass:"bottom-nav-btn",attrs:{tag:"li",to:"/bookshop"}},[e("i",{staticClass:"icon-shu icon"}),this._v("\n    书城")]),this._v(" "),e("router-link",{staticClass:"bottom-nav-btn",attrs:{tag:"li",to:"/bookfree"}},[e("i",{staticClass:"icon-xiaolian icon"}),this._v("\n    免费\n  ")])],1)},staticRenderFns:[]};var l={name:"App",components:{Tab:a("VU/8")({name:"tab",created:function(){},data:function(){return{}}},r,!1,function(t){a("Z34P")},"data-v-00954308",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():e("router-view"),this._v(" "),e("div",{staticClass:"seat"}),this._v(" "),e("tab")],1)},staticRenderFns:[]};var u=a("VU/8")(l,d,!1,function(t){a("zZX2")},null,null).exports,p=a("/ocq"),h={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var v=a("VU/8")({name:"",data:function(){return{}}},h,!1,function(t){a("mYis")},"data-v-59210ba8",null).exports,m={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var f=a("VU/8")({name:"",data:function(){return{}}},m,!1,function(t){a("eNqW")},"data-v-0ef3b206",null).exports,_=a("Dd8w"),g=a.n(_),k=(a("v2ns"),a("7QTg")),b=a("NYxO"),C={name:"swi",components:{swiper:k.swiper,swiperSlide:k.swiperSlide},methods:g()({selectBookId:function(t){this.set_bookId(t),this.$router.push({path:"/booksort/book/"+t})}},Object(b.d)({set_bookId:"SET_BOOKID"})),props:{needIntro:{type:Boolean,default:!1},newClass:{type:String,default:""},sliders:{type:Array,default:function(){return[{cover:""}]}},options:{type:Object,default:function(){return{lazy:!1,autoplay:!1,direction:"horizontal",loop:!0,effet:"slide",slidesPerView:1,centeredSlides:!1,spaceBetween:0,pagination:{el:".sweper-pagination"}}}}},data:function(){return{}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("swiper",{class:t.newClass,attrs:{options:t.options}},[t._l(t.sliders,function(e){return a("swiper-slide",{key:e.id},[a("div",{staticClass:"swiper-slide-href",on:{click:function(a){t.selectBookId(e.id)}}},[a("div",{staticClass:"swiper-slide-wrap"},[a("img",{staticClass:"swiper-slide-href-img",attrs:{src:e.cover}})]),t._v(" "),t.needIntro?a("h3",{staticClass:"swiper-slide-title"},[t._v(t._s(e.book))]):t._e(),t._v(" "),t.needIntro?a("p",{staticClass:"swiper-slide-author"},[t._v(t._s(e.author))]):t._e()])])}),t._v(" "),t.options.pagination?a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):t._e()],2)},staticRenderFns:[]};var I=a("VU/8")(C,w,!1,function(t){a("wHYY")},"data-v-79c5f2fe",null).exports,T={name:"panel",components:{Swiper:I},props:{title:{type:String,default:""},datas:{type:Array,default:function(){return[]}}},data:function(){return{options:{slidesPerView:2.6,spaceBetween:20},needIntro:!0,newClass:"panel-content"}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("h3",{staticClass:"panel-title"},[t._v(t._s(t.title))]),t._v(" "),a("swiper",{attrs:{sliders:t.datas,needIntro:t.needIntro,options:t.options,newClass:t.newClass}})],1)},staticRenderFns:[]};var y=a("VU/8")(T,E,!1,function(t){a("JyvQ")},"data-v-50d4cde6",null).exports,S={name:"search",computed:g()({},Object(b.c)(["keyword"])),methods:g()({search:function(){this.selectKeyWord({keyword:""+this.searchText}),console.log(this.searchText),this.$router.push({path:"/booksearch/"+encodeURIComponent(this.searchText)})}},Object(b.b)({selectKeyWord:"selectKeyWord"})),data:function(){return{searchText:"",toSearch:!1}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-form"},[a("i",{staticClass:"icon-fangdajing",on:{click:function(e){t.toSearch=!t.toSearch}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"search-text",class:{active:t.toSearch},attrs:{type:"text"},domProps:{value:t.searchText},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.search(e):null},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])},staticRenderFns:[]};var L=a("VU/8")(S,x,!1,function(t){a("fMZV")},"data-v-09076d6d",null).exports,R={name:"sort",methods:g()({link:function(t){this.selectClassId(t),this.$router.push("/booksort/"+t)}},Object(b.b)({selectClassId:"selectClassId"})),props:{datas:{types:Array,default:function(){return[{name:"",num:"",id:""}]}}},data:function(){return{}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",t._l(t.datas,function(e){return a("li",{key:e.id,staticClass:"sort-item",on:{click:function(a){t.link(e.id)}}},[a("h4",{staticClass:"sort-item-name"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"sort-item-num"},[t._v("("+t._s(e.num)+")")])])}))},staticRenderFns:[]};var A=a("VU/8")(R,$,!1,function(t){a("Kc4/")},"data-v-640b4cf9",null).exports,N=a("NC6I"),P=a.n(N);function B(){return((new Date).getTime()+"").substring(0,10)}var D="aaf50af46621010e7fbeda2b1fe8ef8e",O="f2850e634f85f485d719314ae3cfe252";function F(){var t=B(),e=new FormData;return e.append("moduleIds","6"),e.append("timestamp",t),e.append("sign",P()("6"+t+D)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcpage/moduleinfo",e)}var z=a("Zrlr"),j=a.n(z),M=function t(e){var a=e.cover,n=e.author,s=e.book,o=e.intro,i=e.id;j()(this,t),this.cover=a,this.author=n,this.book=s,this.intro=o,this.id=i};function V(t){return new M({cover:t.cover,author:t.author_name,book:t.book_name,intro:t.intro,id:t.bid})}var H=function t(e){var a=e.cover,n=e.author,s=e.book_name,o=e.newChapName,i=e.size,c=e.end,r=e.up_time,l=e.id,d=e.class_name;j()(this,t),this.cover=a,this.author=n,this.book_name=s,this.newChapName=o,this.id=l,this.end=c,this.size=i,this.up_time=r,this.class_name=d};function G(t){return new H({cover:t.cover,author:t.author_name,book_name:t.book_name,newChapName:t.newChapName,id:t.bid,end:t.end,class_name:t.class_name,size:t.size,up_time:t.up_time})}var U={name:"book-shop",components:{Swiper:I,Panel:y,Sort:A,Search:L},created:function(){this._getSliders(),this._getModules(),this._getSort()},methods:{_getSliders:function(){var t,e,a=this;(t=new FormData,e=B(),t.append("moduleIds",1),t.append("timestamp",e),t.append("sign",P()(1+e+D)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcpage/moduleinfo",t)).then(function(t){200==t.status&&t.data.data.module1.forEach(function(t){a.sliderData.push(V(t))})})},_getModules:function(){var t,e,a=this;(t=B(),e=new FormData,e.append("moduleIds","3,5,4,2"),e.append("timestamp",t),e.append("sign",P()("3,5,4,2"+t+D)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcpage/moduleinfo",e)).then(function(t){if(200==t.status){var e=t.data.data;e.module2.forEach(function(t,n){a.moduleMan.push(V(t)),a.moduleFeman.push(V(e.module3[n])),a.moduleRecommend.push(V(e.module4[n])),a.modulePlusRecommend.push(V(e.module5[n]))})}})},_getSort:function(){var t=this;F().then(function(e){if(200==e.status){var a=e.data.show.module6.class_data;for(var n in a)if(a.hasOwnProperty(n)){var s=[];s.id=n,s.name=a[n].name,s.num=a[n].num,t.sort.push(s),s=null}}})}},data:function(){return{topSliderNeedIntro:!1,options:{effect:"coverflow",loop:!0,slidesPerView:2,centeredSlides:!0},sliderData:[],moduleManTitle:"男频榜单",moduleFemanTitle:"女频榜单",moduleRecommendTitle:"分类推荐榜",modulePlusRecommendTitle:"强力推荐榜",moduleMan:[],moduleFeman:[],moduleRecommend:[],modulePlusRecommend:[],sliderClassName:"book-shop-top-sliders",sort:[]}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view"),t._v(" "),a("search"),t._v(" "),a("swiper",{staticClass:"top-slider",attrs:{options:t.options,needIntro:t.topSliderNeedIntro,sliders:t.sliderData,newClass:t.sliderClassName}}),t._v(" "),a("panel",{attrs:{datas:t.moduleMan,title:t.moduleManTitle}}),t._v(" "),a("panel",{attrs:{datas:t.moduleFeman,title:t.moduleFemanTitle}}),t._v(" "),a("panel",{attrs:{datas:t.moduleRecommend,title:t.moduleRecommendTitle}}),t._v(" "),a("panel",{attrs:{datas:t.modulePlusRecommend,title:t.modulePlusRecommendTitle}}),t._v(" "),a("sort",{attrs:{datas:t.sort}})],1)},staticRenderFns:[]};var Y=a("VU/8")(U,K,!1,function(t){a("uYQT")},"data-v-4d6025fe",null).exports,q={name:"loading",props:{isLoading:{type:Number,default:0}},data:function(){return{}}},W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[0==this.isLoading?e("div",{staticClass:"loader"},[this._v("Loading...")]):1==this.isLoading?e("div",{staticClass:"loaded"},[this._v("已经加载完毕")]):e("div",{staticClass:"no-fiction"},[this._v("没有满足条件的小说")])])},staticRenderFns:[]};var J=a("VU/8")(q,W,!1,function(t){a("juNV")},"data-v-e11343a2",null).exports,Q={name:"bookList",props:{datas:{type:Array,default:function(){return[]}}},methods:g()({setBookId:function(t){this.set_bookId(t);var e=/^\/([^/]+)/.exec(this.$router.history.current.path)[1];"booksort"==e?this.$router.push({path:"/booksort/book/"+t}):"booksearch"==e&&this.$router.push({path:"/booksearch/book/"+t})}},Object(b.d)({set_bookId:"SET_BOOKID"})),data:function(){return{}}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"books"},t._l(t.datas,function(e){return a("li",{key:e.book_name,staticClass:"books-item",on:{click:function(a){t.setBookId(e.id)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cover,expression:"book.cover"}]}),t._v(" "),a("h3",{domProps:{innerHTML:t._s(e.book_name)}}),t._v(" "),a("h4",[t._v("作者:"+t._s(e.author))]),t._v(" "),a("div",{staticClass:"intro"},[a("p",[t._v(t._s(e.class_name)+"/"+t._s(1==e.end?"连载中":"完结")+"/"+t._s(e.size)+"字")]),t._v(" "),a("p",[t._v("最新章节:"+t._s(e.newChapName))]),t._v(" "),a("p",[t._v("更新时间:"+t._s(e.up_time))])])])}))},staticRenderFns:[]};var X=a("VU/8")(Q,Z,!1,function(t){a("4KGt")},"data-v-5c209e0c",null).exports,tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back"},[e("i",{staticClass:"icon-fanhui",on:{click:this.comeback}})])},staticRenderFns:[]};var et=a("VU/8")({name:"back",methods:{comeback:function(){this.$router.back()}},data:function(){return{}}},tt,!1,function(t){a("loPT")},"data-v-4a068b88",null).exports;var at={name:"book-sort",components:{Loading:J,BookList:X,Back:et},created:function(){this._getSort(),this._getBookList()},computed:g()({},Object(b.c)(["classId","gender","end","page","chargeType","keyword"])),methods:g()({toTop:function(){var t=this,e=this.$refs.bookSort.scrollTop,a=setInterval(function(){e-40<0?(e=0,clearInterval(a)):e-=40,t.$refs.bookSort.scrollTo(0,e)},20)},downloadMore:function(){var t=this;if(this.on){var e=this.$refs.bookSort,a=e.offsetHeight,n=e.scrollHeight,s=e.scrollTop;this.isLong=a<=s,a+s>=n&&(this.on=!1,this.set_page(this.page+1),this._getBookList(),this.timer=setTimeout(function(){clearTimeout(t.timer),t.on=!0},3e3))}},selectGender:function(t){this.set_gender(t),this.set_page(1),this._getBookList()},selectType:function(t){this.set_classId(t),this.set_page(1),this._getBookList()},selectEnd:function(t){this.set_end(t),this.set_page(1),this._getBookList()},selectChargeType:function(t){this.set_chargeType(t),this.set_page(1),this._getBookList()},_getSort:function(){var t=this;F().then(function(e){if(200==e.status){var a=e.data.show.module6.class_data;for(var n in a)if(a.hasOwnProperty(n)){var s=[];s.id=n,s.name=a[n].name,s.num=a[n].num,t.types.push(s),s=null}}})},_getBookList:function(){var t,e,a,n,s,o,i,r,l,d=this;(t=this.page,e=this.pageSize,a=this.classId,n=this.gender,s=this.end,o=this.chargeType,i=this.keyword,r=new FormData,l=B(),r.append("page",t),r.append("pageSize",e),r.append("timestamp",l),r.append("classId",a),r.append("end",1),r.append("gender",n),r.append("end",s),r.append("chargeType",o),r.append("keyword",i),r.append("sign",P()(t+""+e+l+O)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcbook/librarysearch",r)).then(function(t){if(200==t.status&&401==t.data.state)return d.isLoading=2,void(d.books=[]);1==d.page&&(d.books=[]);var e=t.data.data;d.isLoading=d.page*d.pageSize>=t.data.total?1:0,e.forEach(function(t){d.books.push(G(t))})})}},Object(b.d)({set_classId:"SET_CLASSID",set_end:"SET_END",set_chargeType:"SET_CHARGETYPE",set_gender:"SET_GENDER",set_page:"SET_PAGE"})),data:function(){return{types:[{id:"",name:"全部",num:0}],bookList:[],pageSize:18,books:[],isLong:!1,timer:null,on:!0,isLoading:0}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"translate"}},[a("div",{ref:"bookSort",staticClass:"book-sort",on:{scroll:t.downloadMore}},[a("router-view"),t._v(" "),a("back"),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isLong,expression:"isLong"}],staticClass:"icon-fanhuidingbu",on:{click:t.toTop}}),t._v(" "),a("ul",[a("li",{staticClass:"book-sort-select"},[a("span",{class:{active:0==t.gender},on:{click:function(e){t.selectGender(0)}}},[t._v("全部")]),t._v(" "),a("span",{class:{active:1==t.gender},on:{click:function(e){t.selectGender(1)}}},[t._v("男频")]),t._v(" "),a("span",{class:{active:2==t.gender},on:{click:function(e){t.selectGender(2)}}},[t._v("女频")])]),t._v(" "),a("li",{staticClass:"book-sort-select"},t._l(t.types,function(e){return a("span",{class:{active:e.id==t.classId},on:{click:function(a){t.selectType(e.id)}}},[t._v(t._s(e.name))])})),t._v(" "),a("li",{staticClass:"book-sort-select"},[a("span",{class:{active:0==t.end},on:{click:function(e){t.selectEnd(0)}}},[t._v("全部")]),t._v(" "),a("span",{class:{active:1==t.end},on:{click:function(e){t.selectEnd(1)}}},[t._v("连载")]),t._v(" "),a("span",{class:{active:2==t.end},on:{click:function(e){t.selectEnd(2)}}},[t._v("完结")])]),t._v(" "),a("li",{staticClass:"book-sort-select"},[a("span",{class:{active:0==t.chargeType},on:{click:function(e){t.selectChargeType(0)}}},[t._v("全部")]),t._v(" "),a("span",{class:{active:1==t.chargeType},on:{click:function(e){t.selectChargeType(1)}}},[t._v("免费")]),t._v(" "),a("span",{class:{active:2==t.chargeType},on:{click:function(e){t.selectChargeType(2)}}},[t._v("收费")])])]),t._v(" "),a("book-list",{attrs:{datas:t.books}}),t._v(" "),a("loading",{attrs:{isLoading:t.isLoading}})],1)])},staticRenderFns:[]};var st=a("VU/8")(at,nt,!1,function(t){a("RHIK")},"data-v-9f158508",null).exports;a("hU7x");function ot(t){var e=new FormData,a=B();return e.append("bid",t),e.append("timestamp",a),e.append("sign",P()(t+a+O)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcbook/volumechapterlist",e)}var it=a("mvHQ"),ct=a.n(it),rt=window.localStorage,lt="rd_books",dt="liangdu";function ut(t){var e=JSON.parse(rt.getItem(lt))||[];return e=e.some(function(e){return e.id==t})}function pt(){return JSON.parse(rt.getItem(dt))||"0"}var ht={name:"reader",created:function(){var t=this;this.bookId?(this._getChap(),this._getCatalog(),this.$nextTick(function(){var e=pt();t.domAction(e)})):this.$router.back()},methods:g()({back:function(){this.$router.back()},domAction:function(t){var e=this.$refs.ldBg.offsetWidth;this.$refs.ldLine.style.width=t/.75*e+"px",this.$refs.bg.style.opacity=t},changePage:function(t){this.index=this.index+t,this.index<0?this.index=0:this.index>=this.catalog.length?this.index=this.catalog.length-1:(this.set_chapId(this.catalog[this.index].chapid),this.content="",this._getChap(),this.$refs.reader.scrollTop=0)},_getChap:function(){var t,e,a,n,s=this;(t=this.bookId,e=this.chapId,a=new FormData,n=B(),a.append("bid",t),a.append("chapid",e),a.append("timestamp",n),a.append("sign",P()(t+e+n+O)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcbook/chaptercontent",a)).then(function(t){if(200==t.status){var e=t.data.data.content;e="<p>"+(e=(e=e.replace(/\n/g,"</p><p>")).slice(0,-1))+"</p>",s.content=e}})},_getCatalog:function(){var t=this;ot(this.bookId).then(function(e){200==e.status&&(t.catalog=[],t.book_name=e.data.main.book_name,e.data.data[0].volumeList.chapters.forEach(function(e,a){t.chapId==e.chapid&&(t.index=a),t.catalog=t.catalog.concat(e)}))})},select:function(){0==this.active?this.active=1:this.active=0},changeActive:function(t){this.active=t,this.$refs.bg.style.opacity=pt()},changeLD:function(t){var e,a=this.$refs.ldBg.offsetWidth,n=(t.clientX-this.$refs.ldBg.offsetLeft)/a*.75;this.domAction(n),e=n,rt.setItem(dt,e)}},Object(b.d)({set_chapId:"SET_CHAPID"})),computed:g()({catalogLength:function(){return this.catalog.length}},Object(b.c)(["chapId","bookId"])),data:function(){return{isLookMore:!1,content:"",catalog:[],beginCatalog:"",book_name:"",active:0,index:0}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"reader",staticClass:"reader"},[a("div",{staticClass:"reader-top",class:{active:1==t.active}},[a("i",{staticClass:"icon-fanhui",on:{click:t.back}}),t._v(" "),a("div",{staticClass:"reader-top-more"},[a("i",{staticClass:"icon-gengduo-tianchong",on:{click:function(e){t.isLookMore=!t.isLookMore}}}),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isLookMore,expression:"isLookMore"}],staticClass:"more-nav"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)])])]),t._v(" "),a("div",{ref:"bg",staticClass:"bg"}),t._v(" "),a("div",{ref:"content",staticClass:"content",domProps:{innerHTML:t._s(t.content)},on:{click:t.select}}),t._v(" "),a("div",{staticClass:"page-btn"},[a("span",{staticClass:"page-btn-prev",class:{wrong:0==t.index},on:{click:function(e){t.changePage(-1)}}},[t._v("上一章")]),t._v(" "),a("span",{staticClass:"page-btn-next",class:{wrong:t.index>=t.catalog.length-1},on:{click:function(e){t.changePage(1)}}},[t._v("下一章")])]),t._v(" "),a("div",{staticClass:"reader-bottom"},[a("ul",{staticClass:"reader-bottom-nav",class:{active:1==t.active}},[a("li",{staticClass:"reader-bottom-nav-item",on:{click:function(e){t.changeActive(2)}}},[a("i",{staticClass:"icon-sort"}),t._v("目录")]),t._v(" "),a("li",{staticClass:"reader-bottom-nav-item",on:{click:function(e){t.changeActive(3)}}},[a("i",{staticClass:"icon-liangdu"}),t._v("亮度")]),t._v(" "),a("li",{staticClass:"reader-bottom-nav-item",on:{click:function(e){t.changeActive(4)}}},[a("i",{staticClass:"icon-shezhi"}),t._v("设置")]),t._v(" "),a("li",{staticClass:"reader-bottom-nav-item",on:{click:function(e){t.changeActive(5)}}},[a("i",{staticClass:"icon-pinglun"}),t._v("评论")])]),t._v(" "),a("ul",{staticClass:"reader-bottom-content"},[a("li",{staticClass:"reader-bottom-content-cata",class:{active:2==t.active}},[a("div",{staticClass:"reader-bottom-content-cata-title"},[a("h3",{staticClass:"title"},[t._v(t._s(t.book_name))]),t._v(" "),a("h4",{staticClass:"catalog-num"},[t._v("共"+t._s(t.catalogLength))])]),t._v(" "),a("ul",{staticClass:"catalog-list-wrap"},t._l(t.catalog,function(e){return a("li",{key:e.chapid,staticClass:"catalog-list",class:{active:e.chapid==t.chapId}},[t._v("\n            "+t._s(e.chap_name)+"\n          ")])}))]),t._v(" "),a("li",{staticClass:"reader-bottom-content-sun",class:{active:3==t.active}},[a("i",{staticClass:"icon-liangdu icon-l"}),t._v(" "),a("i",{staticClass:"icon-liangdu icon-r"}),t._v(" "),a("div",{ref:"ldBg",staticClass:"ld-line",on:{click:t.changeLD}},[a("p",{ref:"ldLine",staticClass:"ld-adjust"})])]),t._v(" "),a("li",{staticClass:"reader-bottom-content-set",class:{active:4==t.active}}),t._v(" "),a("li",{staticClass:"reader-bottom-content-comment",class:{active:5==t.active}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"more-nav-item"},[e("i",{staticClass:"icon-shujia"}),this._v("去书架")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"more-nav-item"},[e("i",{staticClass:"icon-book_icon"}),this._v("书籍详情")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"more-nav-item"},[e("i",{staticClass:"icon-fenxiang"}),this._v("分享此书")])}]};var mt=a("VU/8")(ht,vt,!1,function(t){a("607w")},null,null).exports;var ft={name:"search",components:{BookList:X,Loading:J,Back:et,Search:L},created:function(){this._getBookSearchList()},methods:g()({toTop:function(){var t=this,e=this.$refs.bookSort.scrollTop,a=setInterval(function(){e-40<0?(e=0,clearInterval(a)):e-=40,t.$refs.bookSort.scrollTo(0,e)},20)},_getBookSearchList:function(){var t,e,a,n,s,o,i,r,l,d=this;(t=this.page,e=this.pageSize,a=this.classId,n=this.gender,s=this.end,o=this.chargeType,i=this.keyword,r=new FormData,l=B(),r.append("page",t),r.append("pageSize",e),r.append("timestamp",l),r.append("classId",a),r.append("end",s),r.append("gender",n),r.append("chargeType",o),r.append("keyword",i),r.append("sign",P()(i+l+O)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcbook/search",r)).then(function(t){if(200==t.status&&301==t.data.state)return d.isLoading=2,d.books=[],void d.$router.push({path:"/bookshop"});1==d.page&&(d.books=[]);var e=t.data.data;d.isLoading=d.page*d.pageSize>=t.data.total?1:0,e.forEach(function(t){t.book_name=t.book_name.replace(new RegExp(d.keyword,"g"),function(){return'<span style="color:#eb634b">'+(arguments.length<=0?void 0:arguments[0])+"</span>"}),d.books.push(G(t))})})},downloadMore:function(){var t=this;if(this.on){var e=this.$refs.book,a=e.offsetHeight,n=e.scrollHeight,s=e.scrollTop;this.isLong=a<=s,a+s>=n&&(this.on=!1,this.set_page(this.page+1),this._getBookSearchList(),this.timer=setTimeout(function(){clearTimeout(t.timer),t.on=!0},3e3))}}},Object(b.d)({set_page:"SET_PAGE"})),computed:g()({},Object(b.c)(["page","classId","gender","end","chargeType","keyword"])),data:function(){return{books:[],isLoading:0,pageSize:9,isLong:!1,on:!0}}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"translate"}},[a("div",{ref:"book",staticClass:"book-search",on:{scroll:t.downloadMore}},[a("router-view"),t._v(" "),a("back"),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isLong,expression:"isLong"}],staticClass:"icon-fanhuidingbu",on:{click:t.toTop}}),t._v(" "),a("book-list",{attrs:{datas:t.books}}),t._v(" "),a("loading",{attrs:{isLoading:t.isLoading}})],1)])},staticRenderFns:[]};var gt=a("VU/8")(ft,_t,!1,function(t){a("5c+W")},"data-v-2ee5a64e",null).exports,kt={name:"catalog",created:function(){this._getCatalog()},methods:{loadMore:function(){this.onePageC=this.onePageC.concat(this.catalog.slice(20*this.page,20*(this.page+1))),console.log(this.onePageC),this.page++},_getCatalog:function(){var t=this;ot(this.bookId).then(function(e){200==e.status&&(t.catalog=[],t.page=1,e.data.data[0].volumeList.chapters.forEach(function(e){t.catalog=t.catalog.concat(e)}),t.onePageC=t.catalog.length>20?t.catalog.slice(0,20):t.catalog)})}},computed:g()({isAll:function(){return Math.ceil(this.catalog.length/20)-this.page>0}},Object(b.c)(["bookId"])),data:function(){return{catalog:[],onePageC:[],page:1}}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[t._l(t.onePageC,function(e){return a("li",{staticClass:"cata-list"},[t._v("\n    "+t._s(e.chap_name)+"\n  ")])}),t._v(" "),t.isAll?a("li",{staticClass:"load-more",on:{click:t.loadMore}},[t._v("继续加载...")]):a("li",{staticClass:"load-more"},[t._v("加载完毕")])],2)},staticRenderFns:[]};var Ct={name:"book-intro",components:{Catalog:a("VU/8")(kt,bt,!1,function(t){a("igrQ")},"data-v-bda90cf0",null).exports},created:function(){this.bookId?(this._getBookIntro(),this._inits()):this.toBack()},methods:g()({_inits:function(){if(ut(this.bookId))return this.btnL="已添加",void(this.btnR="继续阅读");this.btnL="加入书架",this.btnR="开始阅读"},addBook:function(){if(!ut(this.bookId)){var t={};t.id=this.id,t.title=this.book_name,t.cid=this.firstChapid,t.cover=this.cover,t.end=this.end,t.newc=this.newChapName,t.time=(new Date).getTime(),t.yidu=this.firstChapid,function(t){var e=JSON.parse(rt.getItem(lt))||[];if(e.every(function(e){return e.id!=t.id}))e.push(t),rt.setItem(lt,ct()(e))}(t),this._inits()}},startRead:function(){if(!ut(this.bookId))return this.addBook(),this.set_chapId(this.firstChapid),void this.$router.push({path:"/bookreader/"+this.bookId});var t,e;this.set_chapId((t=this.bookId,e=JSON.parse(rt.getItem(lt))||[],(e=e.filter(function(e){return e.id==t}))[0]).cid),this.$router.push({path:"/bookreader/"+this.bookId})},toBack:function(){this.$router.back()},_getBookIntro:function(){var t,e,a,n=this;(t=this.bookId,e=new FormData,a=B(),e.append("bid",t),e.append("timestamp",a),e.append("sign",P()(t+a+O)),c.a.post("https://ognv1.sqreader.com/index.php?r=pcapi/pcbook/bookinfo",e)).then(function(t){if(200===t.status){var e=t.data.data,a=t.data.like;n.author_name=e.author_name,n.id=e.bid,n.book_gender=e.book_gender,n.book_name=e.book_name,n.class_name=e.class_name,n.cover=e.cover,n.authorId=e.sqAuthorId,n.sqBid=e.sqBid,n.intro=e.intro,n.end=e.end,n.newChapContent=e.newChapContent,n.newChapName=e.newChapName,n.firstChapid=e.fristChapid,n.size=e.size,n.up_time=e.up_time,n.like=a}})}},Object(b.d)({set_chapId:"SET_CHAPID"})),computed:g()({},Object(b.c)(["bookId"])),data:function(){return{author_name:"",id:"",book_name:"",class_name:"",size:"",sqBid:"",intro:"",newChapName:"",newChapContent:"",newChapid:"",end:"",cover:"",like:[],firstChapid:"",page:"",authorId:"",lookCatalog:!1,btnL:"加入书架",btnR:"开始阅读"}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"book-intro"},[a("div",{staticClass:"book-intro-top"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"cover"}],staticClass:"boot-intro-top-bg"}),t._v(" "),a("i",{staticClass:"icon-fanhui",on:{click:t.toBack}}),t._v(" "),a("div",{staticClass:"book-intro-top-content"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"cover"}],staticClass:"book-intro-top-content-img"}),t._v(" "),a("h4",{staticClass:"book-intro-top-content-book"},[t._v(t._s(t.book_name))]),t._v(" "),a("h5",{staticClass:"book-intro-top-content-author"},[t._v(t._s(t.author_name))]),t._v(" "),a("p",{staticClass:"book-intro-top-content-message"},[t._v(t._s(t.class_name)+" "+t._s(t.size)+"字 "+t._s(1==t.end?"连载中":"完结"))])]),t._v(" "),a("p",{staticClass:"book-intro-top-intro"},[t._v(t._s(t.intro))])]),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("ul",{staticClass:"book-intro-nav"},[a("li",[a("span",[t._v("最新")]),t._v(t._s(t.newChapName))]),t._v(" "),a("li",{on:{click:function(e){t.lookCatalog=!t.lookCatalog}}},[a("span",[t._v("目录")])])]),t._v(" "),a("catalog",{directives:[{name:"show",rawName:"v-show",value:t.lookCatalog,expression:"lookCatalog"}]}),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("ul",{staticClass:"bottom-actions"},[a("li",{ref:"actionL",staticClass:"bottom-actions-btn bottom-actions-btn-l",on:{click:t.addBook}},[t._v(t._s(t.btnL))]),t._v(" "),a("li",{ref:"actionR",staticClass:"bottom-actions-btn bottom-actions-btn-r",on:{click:t.startRead}},[t._v(t._s(t.btnR))])]),t._v(" "),a("div",{staticClass:"seat"})],1)},staticRenderFns:[]};var It=a("VU/8")(Ct,wt,!1,function(t){a("Cj+j")},"data-v-fc3492f6",null).exports;o.a.use(p.a);var Tt,Et=new p.a({linkActiveClass:"active",routes:[{path:"/",redirect:"/bookshelf"},{path:"/bookshelf",component:v,meta:{keepAlive:!0}},{path:"/booksort/:id",component:st,meta:{keepAlive:!1},children:[{path:"/booksort/book/:id",component:It,meta:{keepAlive:!1}}]},{path:"/booksearch/:content",component:gt,meta:{keepAlive:!1},children:[{path:"/booksearch/book/:id",component:It,meta:{keepAlive:!1}}]},{path:"/bookshop",component:Y,meta:{keepAlive:!0},children:[{path:":id",component:It,meta:{keepAlive:!1}}]},{path:"/bookfree",component:f,meta:{keepAlive:!0}},{path:"/bookreader/:id",component:mt,meta:{keepAlive:!1}}]}),yt=function(t,e){var a=t.commit;t.state;a("SET_CLASSID",e.classId),a("SET_CHARGETYPE",0),a("SET_END",0),a("SET_GENDER",0),a("SET_PAGE",1),a("SET_KEYWORD","")},St=function(t,e){var a=t.commit,n=(t.state,e.keyword);a("SET_CLASSID",""),a("SET_CHARGETYPE",0),a("SET_END",0),a("SET_GENDER",0),a("SET_PAGE",1),a("SET_KEYWORD",n)},xt=function(t){return t.bookId},Lt=function(t){return t.classId},Rt=function(t){return t.gender},$t=function(t){return t.end},At=function(t){return t.chargeType},Nt=function(t){return t.page},Pt=function(t){return t.keyword},Bt=function(t){return t.chapId},Dt={bookId:"",classId:"",gender:0,end:0,chargeType:0,page:1,keyword:"",chapId:""},Ot=a("bOdI"),Ft=a.n(Ot),zt=(Tt={},Ft()(Tt,"SET_BOOKID",function(t,e){t.bookId=e}),Ft()(Tt,"SET_CLASSID",function(t,e){t.classId=e}),Ft()(Tt,"SET_GENDER",function(t,e){t.gender=e}),Ft()(Tt,"SET_END",function(t,e){t.end=e}),Ft()(Tt,"SET_CHARGETYPE",function(t,e){t.chargeType=e}),Ft()(Tt,"SET_PAGE",function(t,e){t.page=e}),Ft()(Tt,"SET_KEYWORD",function(t,e){t.keyword=e}),Ft()(Tt,"SET_CHAPID",function(t,e){t.chapId=e}),Tt);a("sax8");o.a.use(b.a);var jt=new b.a.Store({actions:n,getters:s,state:Dt,mutations:zt,strict:!1,plugins:[]}),Mt=a("lJzc"),Vt=a.n(Mt);o.a.use(Vt.a,{preload:1.3,error:"static/logo.png",loading:"static/logo.png",attemp:1}),o.a.config.productionTip=!1,new o.a({el:"#app",router:Et,store:jt,components:{App:u},template:"<App/>"})},RHIK:function(t,e){},Z34P:function(t,e){},eNqW:function(t,e){},fMZV:function(t,e){},igrQ:function(t,e){},juNV:function(t,e){},loPT:function(t,e){},mYis:function(t,e){},uYQT:function(t,e){},v2ns:function(t,e){},wHYY:function(t,e){},zZX2:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.75b0e3b0e99d4c62ce80.js.map